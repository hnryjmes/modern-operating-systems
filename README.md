# Modern Operating Systems, 4th Edition
by Andrew S. Tanenbaum, Herbert Bos

`** Notes by Henry Cooksley **`

### 1 INTRODUCTION

operating system, shell, GUI, Graphical User Interface, kernel mode, supervisor mode, user mode, I/O, Input/Output

#### 1.1 WHAT IS AN OPERATING SYSTEM?

##### 1.1.1 The Operating System as an Extended Machine

architecture, SATA, Serial ATA, disk driver

"In this book, we will talk a lot about abstractions. They are one of the keys to understanding operating systems."

multiplexing

#### 1.2 HISTORY OF OPERATING SYSTEMS

##### 1.2.1 The First Generation (1945-55): Vacuum Tubes

##### 1.2.2 The Second Generation (1955-65): Transistors and Batch Systems

mainframes, job, batch system, off line

##### 1.2.3 The Third Generation (1965-1980): ICs and Multiprogramming

ICs, Integrated Circuits, OS/360, multiprogramming, spooling, Simultaneous Peripheral Operation On Line, timesharing, CTSS, Compatible Time Sharing System

"We will use the terms “procedure,” “subroutine,” and “function” interchangeably in this book."

MULTICS, MULTiplexed Information and Computing Service, cloud computing

"Despite its lack of commercial success, MULTICS had a huge influence on subsequent operating systems (especially UNIX and its derivatives, FreeBSD, Linux, iOS, and Android)."

UNIX, System V, BSD, Berkeley Software Distribution, POSIX, MINIX, Linux

##### 1.2.4 The Fourth Generation (1980-Present): Personal Computers

LSI, Large Scale Integration, microcomputers, CP/M, Control Program for Microcomputers, DOS, Disk Operating System, MS-DOS, MicroSoft Disk Operating System, user friendly, Mac OS X, Windows NT, New Technology, Windows Me, Millennium Edition, service packs, Digital Rights Management, x86, x86-32, x86-64, FreeBSD, X Window System, X11, Gnome, KDE, network operating systems, distributed operating systems

##### 1.2.5 The Fifth Generation (1990-Present): Mobile Computers

PDA, Symbian, RIM, iPhone

#### 1.3 COMPUTER HARDWARE REVIEW

##### 1.3.1 Processors

program counter, stack pointer, PSW, Program Status Word, pipeline, superscalar

"Generally, all instructions involving I/O and memory protection are disallowed in user mode."

system call, multithreading, hyperthreading, GPU, Graphics Processing Unit

##### 1.3.2 Memory

cache lines, cache hit, L1 cache, L2 cache, RAM, Random Access Memory, core memory, ROM, Read Only Memory, EEPROM, Electrically Erasable PROM, flash memory

##### 1.3.3 Disks

track, cylinder, SSDs, Solid State Disks, virtual memory, MMU, Memory Management Unit, context switch

##### 1.3.4 I/O Devices

SATA, Serial ATA, ATA, AT Attachment

"In case you are curious what AT stands for, this was IBM's second generation “Personal Computer Advanced Technology” built around the then-extremely-potent 6-MHz 80286 processor that the company introduced in 1984."

device driver, I/O port space, busy waiting, interrupt, interrupt vector, DMA, Direct Memory Access

##### 1.3.5 Buses

PCIe, Peripheral Component Interconnect Express, PCI, ISA, Industry Standard Architecture, shared bus architecture, parallel bus architecture, serial bus architecture, DMI, Direct Media Interface, USB, Universal Serial Bus, SCSI, Small Computer System Interface, plug and play

##### 1.3.6 Booting the Computer

BIOS, Basic Input Output System

#### 1.4 THE OPERATING SYSTEM ZOO

##### 1.4.1 Mainframe Operating System

##### 1.4.2 Server Operating Systems

##### 1.4.3 Multiprocessor Operating Systems

##### 1.4.4 Personal Computer Operating Systems

"Common examples are Linux, FreeBSD, Windows 7, Windows 8, and Apple's OS X."

##### 1.4.5 Handheld Computer Operating Systems

PDA, Personal Digital Assistant, apps

##### 1.4.6 Embedded Operating Systems

"Typical examples are microwave ovens, TV sets, cars, DVD recorders, traditional phones, and MP3 players."

##### 1.4.7 Sensor-Node Operating Systems

##### 1.4.8 Real-Time Operating Systems

hard real-time system

"Many of these are found in industrial process control, avionics, military, and similar application areas."

soft real-time system

"Smartphones are also soft real-time systems."

##### 1.4.9 Smart Card Operating Systems

#### 1.5 OPERATING SYSTEM CONCEPTS

##### 1.5.1 Processes

process, address space, process table, core image, command interpreter, child processes, interprocess communication, alarm signal

"Signals are the software analog of hardware interrupts and can be generated by a variety of causes in addition to timers expiring."

UID, User IDentification, GID, Group IDentification, superuser, Administrator

##### 1.5.2 Address Spaces

"The address space is decoupled from the machine's physical memory and may be either larger or smaller than the physical memory."

##### 1.5.3 Files

directory, path name, root directory, working directory, file descriptor, root file system, special file, block special files, character special files, pipes

"Thus, communication between processes in UNIX looks very much like ordinary file reads and writes."

##### 1.5.4 Input/Output

##### 1.5.5 Protection

"Files in UNIX are protected by assigning each one a 9-bit binary protection code."

rwx bits, read, write, execute

##### 1.5.6 The Shell

"Although it is not part of the operating system, it makes heavy use of many operating system features and thus serves as a good example of how the system calls are used."

"Many shells exist, including sh, csh, ksh, and bash."

prompt

"If a user puts an ampersand after a command, the shell does not wait for it to complete."

##### 1.5.7 Ontogeny Recapitulates Phylogeny

"Each new species (mainframe, minicomputer, personal computer, handheld, embedded computer, smart card, etc.) seems to go through the development that its ancestors did, both in hardware and in software."

Large Memories, Protection Hardware, Disks, Virtual Memory

#### 1.6 SYSTEM CALLS

"We have seen that operating systems have two main functions: providing abstractions to user programs and managing the computer's resources."

##### 1.6.1 System Calls for Process Management

PID, Process IDentifier, text segment, data segment, stack segment

##### 1.6.2 System Calls for File Management

##### 1.6.3 System Calls for Directory Management

i-nodes, partitions, minor devices

##### 1.6.4 Miscellaneous System Calls

"The chmod system call makes it possible to change the mode of a file."

"Windows and UNIX differ in a fundamental way in their respective programming models."

Win32 API, Application Programming Interface

"The number of Win32 API calls is extremely large, numbering in the thousands."

#### 1.7 OPERATING SYSTEM STRUCTURE

##### 1.7.1 Monolithic Systems

"The operating system is written as a collection of procedures, linked together into a single large executable binary program."

shared libraries, DLLs, Dynamic-Link-Libraries

##### 1.7.2 Layered Systems

##### 1.7.3 Microkernels

"In fact, a strong case can be made for putting as little as possible in kernel mode because bugs in the kernel can bring down the system instantly."

reincarnation server, mechanism, policy

##### 1.7.4 Client-Server Model

servers, clients, client-server

"To obtain a service, a client process constructs a message saying what it wants and sends it to the appropriate service."

##### 1.7.5 Virtual Machines

z/VM, VM/370, virtual machine monitor, CMS, Conversational Monitor System, Virtual Machines Rediscovered, shared hosting

"When a Web hosting company offers virtual machines for rent, a single physical machine can run many virtual machines, each of which appears to be a complete machine."

type 1 hypervisor, machine simulators, binary translation, type 2 hypervisors, host operating system, guest operating system, paravirtualization, The Java Virtual Machine, JVM, Java Virtual Machine

##### 1.7.6 Exokernels

exokernel

"Its job is to allocate resources to virtual machines and then check attempts to use them to make sure no machine is trying to use somebody else's resources."

#### 1.8 THE WORLD ACCORDING TO C

"The environment used for developing operating systems is very different from what individuals (such as students) are used to when writing small Java programs."

##### 1.8.1 The C Language

"This is not a guide to C, but a short summary of some of the key differences between C and languages like Python and especially Java."

pointer

"Pointers are a very powerful construct, but also a great source of errors when used carelessly."

"Some things that C does not have include built-in strings, threads, packages, classes, objects, type safety, and garbage collection."

##### 1.8.2 Header Files

macros

##### 1.8.3 Large Programming Projects

object file, C preprocessor

"Keeping track of which object files depend on which header files is completely unmanageable without help."

linker

##### 1.8.4 The Model of Run Time

"Once running, it may dynamically load pieces that were not statically included in the binary such as device drivers and file systems."

#### 1.9 RESEARCH ON OPERATING SYSTEMS

"Virtually all operating systems researchers realize that current operating systems are massive, inflexible, unreliable, insecure, and loaded with bugs, certain ones more than others (names withheld here to protect the guilty)."

#### 1.10 OUTLINE OF THE REST OF THIS BOOK

"As mentioned already, from the programmer's point of view, the primary purpose of an operating system is to provide some key abstractions, the most important of which are processes and threads, address spaces, and files."

#### 1.11 METRIC UNITS

"Thus a 1-KB memory contains 1024 bytes, not 1000 bytes."

#### 1.12 SUMMARY

"Operating systems can be viewed from two viewpoints: resource managers and extended machines."

"In the resource-manager view, the operating system's job is to manage the different parts of the system efficiently."

"In the extended-machine view, the job of the system is to provide the users with abstractions that are more convenient to use than the actual machine."

"These include processes, address spaces, and files."

"The heart of any operating system is the set of system calls that it can handle."

"The first group of system calls relates to process creation and termination."

"The second group is for reading and writing files."

"The third group is for directory management."

"The fourth group contains miscellaneous calls."

### 2 PROCESSES AND THREADS

"The most central concept in any operating system is the process: an abstraction of a running program."

"Without the process abstraction, modern computing could not exist."

#### 2.1 PROCESSES

pseudoparallelism, multiprocessor

##### 2.1.1 The Process Model

sequential processes, processes, multiprogramming

##### 2.1.2 Process Creation

daemons, copy-on-write

##### 2.1.3 Process Termination

##### 2.1.4 Process Hierarchies

"In UNIX, a process and all of its children and further descendants together form a process group."

handle

##### 2.1.5 Process States

"When a process blocks, it does so because logically it cannot continue, typically because it is waiting for input that is not yet available."

##### 2.1.6 Implementation of Processes

process table, process control blocks, interrupt vector

##### 2.1.7 Modeling Multiprogramming

"When multiprogramming is used, the CPU utilization can be improved."

degree of multiprogramming

#### 2.2 THREADS

##### 2.2.1 Thread Usage

threads

"By decomposing such an application into multiple sequential threads that run in quasi-parallel, the programming model becomes simpler."

"Instead, of thinking about interrupts, timers, and context switches, we can think about parallel processes."

"Only now with threads we add a new element: the ability for the parallel entities to share an address space and all of its data among themselves."

"This ability is essential for certain applications, which is why having multiple processes (with their separate address spaces) will not work."

cache, dispatcher, worker thread, finite-state machine

##### 2.2.2 The Classical Thread Model

thread, lightweight processes, multithreading

"Since every thread can access every memory address within the process' address space, one thread can read, write, or even wipe out another thread's stack."

"There is no protection between threads because (1) it is impossible, and (2) it should not be necessary."

##### 2.2.3 POSIX Threads

Pthreads

##### 2.2.4 Implementing Threads in User Space

"There are two main places to implement threads: user space and the kernel."

thread table, jacket, wrapper

"Another, and really the most devastating, argument against user-level threads is that programmers generally want threads precisely in applications where the threads block often, as, for example, in a multithreaded Web server."

##### 2.2.5 Implementing Threads in the Kernel

"When a thread wants to create a new thread or destroy an existing thread, it makes a kernel call, which then does the creation or destruction by updating the kernel thread table."

##### 2.2.6 Hybrid Implementations

##### 2.2.7 Scheduler Activations

scheduler activations, upcall

##### 2.2.8 Pop-Up Threads

pop-up thread

##### 2.2.9 Making Single-Threaded Code Multithreaded

"Local variables and parameters do not cause any trouble, but variables that are global to a thread but not global to the entire program are a problem."

#### 2.3 INTERPROCESS COMMUNICATION

InterProcess Communication, IPC

##### 2.3.1 Race Conditions

spooler directory, printer daemon

"Situations like this, where two or more processes are reading or writing some shared data and the final result depends on who runs precisely when, are called race conditions."

##### 2.3.2 Critical Regions

mutual exclusion, critical region, critical section

##### 2.3.3 Mutual Exclusion with Busy Waiting

Disabling Interrupts

"On a single-processor system, the simplest solution is to have each process disable all interrupts just after entering its critical region and re-enable them just before leaving it."

"This approach is generally unattractive because it is unwise to give user processes the power to turn off interrupts."

Lock Variables

"Unfortunately, this idea contains exactly the same fatal flaw that we saw in the spooler directory."

Strict Alternation

"C is powerful, efficient, and predictable, characteristics critical for writing operating systems."

busy waiting, spin lock

"This situation violates condition 3 set out above: process 0 is being blocked by a process not in its critical region."

Peterson's Solution

"By combining the idea of taking turns with the idea of lock variables and warning variables, a Dutch mathematician, T. Dekker, was the first one to devise a software solution to the mutual exclusion problem that does not require strict alternation."

The TSL Instruction

"It is important to note that locking the memory bus is very different from disabling interrupts."

"In other words, critical regions work only if the processes cooperate."

##### 2.3.4 Sleep and Wakeup

priority inversion problem, The Producer-Consumer Problem, producer-consumer, bounded-buffer, wakeup waiting bit

##### 2.3.5 Semaphores

semaphore, atomic action

"This atomicity is absolutely essential to solving synchronization problems and avoiding race conditions."

Solving the Producer-Consumer Problem Using Semaphores

"This solution uses three semaphores: one called full for counting the number of slots that are full, one called empty for counting the number of slots that are empty, and one called mutex to make sure the producer and consumer do not access the buffer at the same time."

binary semaphores

"The mutex semaphore is used for mutual exclusion."

synchronization

##### 2.3.6 Mutexes

"Mutexes are good only for managing mutual exclusion to some shared resource or piece of code."

mutex, Futexes, futex

"A futex consists of two parts: a kernel service and a user library."

Mutexes in Pthreads, condition variables

##### 2.3.7 Monitors

monitor, condition variables

"The conclusion is that semaphores are too low level and monitors are not usable except in a few programming languages."

##### 2.3.8 Message Passing

message passing, Design Issues for Message-Passing Systems, acknowledgement

"It is essential that the receiver be able to distinguish a new message from the retransmission of an old one."

Authentication, The Producer-Consumer Problem with Message Passing, mailbox, rendezvous

"Message passing is commonly used in parallel programming systems."

MPI, Message-Passing Interface

##### 2.3.9 Barriers

barrier

"When all of them are done, the new matrix (the input to the next iteration) will be finished, and all processes will be simultaneously released to start the next iteration."

##### 2.3.10 Avoiding Locks: Read-Copy-Update

RCU, Read-Copy-Update, read-side critical section, grace period

#### 2.4 SCHEDULING

scheduler, scheduling algorithm

"Many of the same issues that apply to process scheduling also apply to thread scheduling, although some are different."

##### 2.4.1 Introduction to Scheduling

"In addition to picking the right process to run, the scheduler also has to worry about making efficient use of the CPU because process switching is expensive."

Process Behavior, compute-bound, CPU-bound, I/O-bound

"Compute-bound processes typically have long CPU bursts and thus infrequent I/O waits, whereas I/O-bound processes have short CPU bursts and thus frequent I/O waits."

"It is worth noting that as CPUs get faster, processes tend to get more I/O-bound."

When to Schedule, nonpreemptive, preemptive, Categories of Scheduling Algorithms, Scheduling Algorithm Goals, Throughput, Turnaround time, response time, proportionality

##### 2.4.2 Scheduling in Batch Systems

First-Come, First-Served, first-come, first-served

"It is also fair in the same sense that allocating scarce concert tickets or brand-new iPhones to people who are willing to stand on line starting at 2 A.M. is fair."

Shortest Job First, shortest job first

"It is worth pointing out that shortest job first is optimal only when all the jobs are available simultaneously."

Shortest Remaining Time Next, shortest remaining time next

##### 2.4.3 Scheduling in Interactive Systems

Round-Robin Scheduling, round robin, quantum, process switch, context switch, Priority Scheduling, priority scheduling

"To prevent high-priority processes from running indefinitely, the scheduler may decrease the priority of the currently running process at each clock tick (i.e., at each clock interrupt)."

Multiple Queues, Shortest Process Next, aging, Guaranteed Scheduling, Lottery Scheduling, lottery scheduling, Fair-Share Scheduling

##### 2.4.4 Scheduling in Real-Time Systems

real-time, hard real time, soft real time, periodic, aperiodic, schedulable

"Static scheduling works only when there is perfect information available in advance about the work to be done and the deadlines that have to be met."

##### 2.4.5 Policy Versus Mechanism

scheduling mechanism, scheduling policy

##### 2.4.6 Thread Scheduling

"In practice, round-robin scheduling and priority scheduling are most common."

#### 2.4 CLASSICAL IPC PROBLEMS

##### 2.5.1 The Dining Philosophers Problem

dining philosophers problem

"Suppose that all five philosophers take their left forks simultaneously."

"None will be able to take their right forks, and there will be a deadlock."

starvation

##### 2.5.2 The Readers and Writers Problem

"It is acceptable to have multiple processes reading the database at the same time, but if one process is updating (writing) the database, no other processes may have access to the database, not even readers."

#### 2.6 RESEARCH ON PROCESSES AND THREADS

"All in all, processes, threads, and scheduling are not hot topics for research as they once were."

"The research has moved on to topics like power management, virtualization, clouds, and security."

#### 2.7 SUMMARY

"To hide the effects of interrupts, operating systems provide a conceptual model consisting of sequential processes running in parallel."

"For some applications it is useful to have multiple threads of control within a single process."

"Processes can communicate with one another using interprocess communication primitives, for example, semaphores, monitors, or messages."

"Interprocess communication primitives can be used to solve such problems as the producer-consumer, dining philosophers, and reader-writer."

"A great many scheduling algorithms have been studied."

### 3 MEMORY MANAGEMENT

"In this chapter we will study how operating systems create abstractions from memory and how they manage them."

memory hierarchy, memory manager

"Since managing the lowest level of cache memory is normally done by the hardware, the focus of this chapter will be on the programmer's model of main memory and how it can be managed."

#### 3.1 NO MEMORY ABSTRACTION

"Thus, the model of memory presented to the programmer was simply physical memory, a set of addresses from 0 to some maximum, each address corresponding to a cell containing some number of bits, commonly eight."

"Under these conditions, it was not possible to have two running programs in memory at the same time."

"If the first program wrote a new value to, say, location 2000, this would erase whatever value the second program was storing there."

"Nothing would work and both programs would crash almost immediately."

BIOS, Running Multiple Programs Without a Memory Abstraction, static relocation, e-Cos

#### 3.2 A MEMORY ABSTRACTION: ADDRESS SPACES

##### 3.2.1 The Notion of an Address Space

address space, Base and Limit Registers, dynamic relocation

"What it does is map each process' address space onto a different part of physical memory in a simple way."

base, limit

##### 3.2.2 Swapping

swapping, virtual memory, memory compaction

##### 3.2.3 Managing Free Memory

Memory Management with Bitmaps

"A bitmap provides a simple way to keep track of memory words in a fixed amount of memory because the size of the bitmap depends only on the size of memory and the size of the allocation unit."

Memory Management with Linked Lists

"When the processes and holes are kept on a list sorted by address, several algorithms can be used to allocate memory for a created process (or an existing process being swapped in from disk)."

first fit, next fit, best fit, worst fit

"All four algorithms can be speeded up by maintaining separate lists for processes and holes."

"In this way, all of them devote their full energy to inspecting holes, not processes."

quick fit

#### 3.3 VIRTUAL MEMORY

overlays, virtual memory, pages

"Each page is a contiguous range of addresses."

"These pages are mapped onto physical memory, but not all pages have to be in physical memory at the same time to run the program."

"When the program references a part of its address space that is in physical memory, the hardware performs the necessary mapping on the fly."

##### 3.3.1 Paging

paging, virtual addresses, virtual address space, MMU, Memory Management Unit, page frames, Present/absent bit, page fault, page table

##### 3.3.2 Page Tables

Structure of a Page Table Entry, dirty bit

##### 3.3.3 Speeding Up Paging

Translation Lookaside Buffers, TLB, Translation Lookaside Buffer, associative memory, Software TLB Management, soft miss, hard miss, page table walk, minor page fault, major page fault

"Third, it is possible that the program simple accessed an invalid address and no mapping needs to be added in the TLB at all."

segmentation fault

##### 3.3.4 Page Tables for Large Memories

Multilevel Page Tables, multilevel page table, page directory, page directory pointer table, page map level 4, Inverted Page Tables, inverted page tables

#### 3.4 PAGE REPLACEMENT ALGORITHMS

##### 3.4.1 The Optimal Page Replacement Algorithm

"Although this method is useful for evaluating page replacement algorithms, it is of no use in practical systems."

##### 3.4.2 The Not Recently Used Page Replacement Algorithm

NRU, Not Recently Used

"Implicit in this algorithm is the idea that it is better to remove a modified page that has not been referenced in at least one clock tick (typically about 20 msec) than a clean page that is in heavy use."

##### 3.4.3 The First-In, First-Out (FIFO) Page Replacement Algorithm

FIFO, First-In, First-Out

"The new one goes on the back of the list; the one at the front of the list is dropped."

"The operating system maintains a list of all pages currently in memory, with the most recent arrival at the tail and the least recent arrival at the head."

"When applied to stores, FIFO might remove mustache wax, but it might also remove flour, salt, or butter." 

"When applied to computers the same problem arises: the oldest page may still be useful."

##### 3.4.4 The Second-Chance Page Replacement Algorithm

second chance

"What second chance is looking for is an old page that has not been referenced in the most recent clock interval."

##### 3.4.5 The Clock Page Replacement Algorithm

"Although second chance is a reasonable algorithm, it is unnecessarily inefficient because it is constantly moving pages around on its list."

clock

##### 3.4.6 The Least Recently Used (LRU) Page Replacement Algorithm

LRU, Least Recently Used

##### 3.4.7 Simulating LRU in Software

NFU, Not Frequently Used, aging

##### 3.4.8 The Working Set Page Replacement Algorithm

demand paging, locality of reference, working set, thrashing, working set model, prepaging, current virtual time

##### 3.4.9 The WSClock Page Replacement Algorithm

"The basic working set algorithm is cumbersome, since the entire page table has to be scanned at each page fault until a suitable candidate is located."

WSClock

##### 3.4.10 Summary of Page Replacement Algorithms

"The optimal algorithm evicts the page that will be referenced furthest in the future. Unfortunately, there is no way to determine which page this is, so in practice this algorithm cannot be used."

"All in all, the two best algorithms are aging and WSClock."

#### 3.5 DESIGN ISSUES FOR PAGING SYSTEMS

##### 3.5.1 Local versus Global Allocation Policies

local, global

"In general, global algorithms work better, especially when the working set size can vary a lot over the lifetime of a process."

PFF, Page Fault Frequency

"On the other hand, for other page replacement algorithms, only a local strategy makes sense."

##### 3.5.2 Load Control

"A good way to reduce the number of processes competing for memory is to swap some of them to the disk and free up all the pages they are holding."

##### 3.5.3 Page Size

internal fragmentation, TLB

##### 3.5.4 Separate Instruction and Data Spaces

I-space, D-space

"In a computer with this kind of design, both address spaces can be paged, independently from one another."

##### 3.5.5 Shared Pages

copy on write

##### 3.5.6 Shared Libraries

shared libraries, DLLs, Dynamic Link Libraries, undefined externals, position-independent code

##### 3.5.7 Mapped Files

memory-mapped files

##### 3.5.8 Cleaning Policy

paging daemon

##### 3.5.9 Virtual Memory Interface

distributed shared memory

"The idea here is to allow multiple processes over a network to share a set of pages, possibly, but not necessarily, as a single shared linear address space."

#### 3.6 IMPLEMENTATION ISSUES

##### 3.6.1 Operating System Involvement with Paging

"There are four times when the operating system has paging-related work to do: process creation time, process execution time, page fault time, and process termination time."

##### 3.6.2 Page Fault Handling

##### 3.6.3 Instruction Backup

"Fortunately, on some machines the CPU designers provide a solution, usually in the form of a hidden internal register into which the program counter is copied just before each instruction is executed."

##### 3.6.4 Locking Pages in Memory

"Virtual memory and I/O interact in subtle ways."

pinning

##### 3.6.5 Backing Store

"The simplest algorithm for allocating page space on the disk is to have a special swap partition on the disk or, even better, on a separate disk from the file system (to balance the I/O load).

##### 3.6.6 Separation of Policy and Mechanism

"This principle can be applied to memory management by having most of the memory manager run as a user-level process."

#### 3.7 SEGMENTATION

"The virtual memory discussed so far is one-dimensional because the virtual addresses go from 0 to some maximum address, one address after another."

segments

##### 3.7.1 Implementation of Pure Segmentation

checkerboarding, external fragmentation

##### 3.7.2 Segmentation with Paging: MULTICS

"It was started as a research project at M.I.T. and went live in 1969."

"The last MULTICS system was shut down in 2000, a run of 31 years."

##### 3.7.3 Segmentation with Paging: The Intel x86

"Up until the x86-64, the virtual memory system of the x85 resembled that of MULTICS in many ways, including the presence of both segmentation and paging."

"As of x86-64, segmentation is considered obsolete and is no longer supported, except in legacy mode."

LDT, Local Descriptor Table, GDT, Global Descriptor Table

"So why did Intel kill what was a variant of the perfectly good MULTICS memory model that it supported for close to three decades?"

"Probably the main reason is that neither UNIX nor Windows ever used it, even though it was quite efficient because it eliminated system calls, turning them into lightning-fast procedure calls to the relevant address within a protected operating system segment."

#### 3.8 RESEARCH ON MEMORY MANAGEMENT

"More generally, research on paging is still ongoing, but it focuses on newer kinds of systems."

#### 3.9 SUMMARY

"Some operating systems allow only one process at a time in memory, while others support multiprogramming."

"When swapping is used, the system can handle more processes than it has room for in memory."

"Modern computers often have some form of virtual memory."

"Sometimes segmentation and paging are combined to provide a two-dimensional virtual memory."

"Today, even the 64-bit version of the x86 no longer supports real segmentation."

### 4 FILE SYSTEMS

"While a process is running, it can store a limited amount of information within its own address space."

"A second problem with keeping information within a process' address space is that when the process terminates, the information is lost."

"A third problem is that it is frequently necessary for multiple processes to access (parts of) the information at the same time."

"Just as we saw how the operating system abstracted away the concept of the processor to create the abstraction of a process and how it abstracted away the concept of physical memory to offer processes (virtual) address spaces, we can solve this problem with a new abstraction: the file."

"Together, the abstractions of processes (and threads), address spaces, and files are the most important concepts relating to operating systems."

Files

"In fact, if you think of each file as a kind of address space, you are not that far off, except that they are used to model the disk instead of modeling the RAM."

persistent, file system

"From the user's standpoint, the most important aspect of a file system is how it appears, in other words, what constitutes a file, how files are named and protected, what operations are allowed on files, and so on."

"The details of whether linked lists or bitmaps are used to keep track of free storage and how many sectors there are in a logical disk block are of no interest, although they are of great importance to the designers of the file system."

"The first two are concerned with the user interface to files and directories, respectively."

"Then comes a detailed discussion of how the file system is implemented and managed."

#### 4.1 FILES

##### 4.1.1 File Naming

"A file is an abstraction mechanism."

"This must be done in such a way as to shield the user from the details of how and where the information is stored, and how the disks actually work."

"Some file systems distinguish between upper- and lowercase letters, whereas others do not."

"UNIX falls in the first category; the old MS-DOS falls in the second."

FAT-16, FAT-32, NTFS, ReFS, Resilient File System, exFAT

"Exfat is the only modern Microsoft file system that OS X can both read and write."

file extension

"A file named file.txt might be some kind of text file, but that name is more to remind the owner than to convey any actual information to the computer."

"On the other hand, a C compiler may actually insist that files it is to compile end in .c, and it may refuse to compile them if they do not."

"However, the operating system does not care."

##### 4.1.2 File Structure

"Files can be structured in any of several ways."

"Having the operating system regard files as nothing more than byte sequences provides the maximum amount of flexibility."

"Central to the idea of a file being a sequence of records is the idea that the read operation returns one record and the write operation overwrites or appends one record."

"No current general-purpose system uses this model as its primary file system any more, but back in the days of 80-column punched cards and 132-character line printer paper this was a common model on mainframe computers."

key

"The tree is sorted on the key field, to allow rapid searching for a particular key."

"This type of file is clearly quite different from the unstructured byte streams used in UNIX and Windows and is used on some large mainframe computers for commercial data processing."

##### 4.1.3 File Types

Regular files, Directories, Character special files, Block special files

"Regular files are generally either ASCII files or binary files."

"The great advantage of ASCII files is that they can be displayed and printed as is, and they can be edited with any text editor."

"Other files are binary, which just means that they are not ASCII files."

"Listing them on the printer gives an incomprehensible listing full of random junk."

"Although technically the file is just a sequence of bytes, the operating system will execute a file only if it has the proper format."

"It has five sections: header, text, data, relocation bits, and symbol table."

magic number

##### 4.1.4 File Access

sequential access, random-access files

"If an airline customer calls up and wants to reserve a seat on a particular flight, the reservation program must be able to access the record for that flight without having to read the records for thousands of other flights first."

##### 4.1.5 File Attributes

attributes, metadata

##### 4.1.6 File Operations

"Different systems provide different operations to allow storage and retrieval."

##### 4.1.7 An Example Program Using File-System Calls

file descriptors

#### 4.2 DIRECTORIES

directories, folders

##### 4.2.1 Single-Level Directory Systems

root directory

##### 4.2.2 Hierarchical Directory Systems

##### 4.2.3 Path Names

absolute path name, relative path name, working directory, current directory

##### 4.2.4 Directory Operations

symbolic link

#### 4.3 FILE-SYSTEM IMPLEMENTATION

"Users are concerned with how files are named, what operations are allowed on them, what the directory tree looks like, and similar interface issues."

"Implementors are interested in how files and directories are stored, how disk space is managed, and how to make everything work efficiently and reliably."

##### 4.3.1 File-System Layout

MBR, Master Boot Record, boot block, superblock

"Typical information in the superblock includes a magic number to identify the file-system type, the number of blocks in the file system, and other key administrative information."

##### 4.3.2 Implementing Files

Contiguous Allocation

"Unfortunately, contiguous allocation also has a very serious drawback: over the course of time, the disk becomes fragmented."

UDF, Universal Disk Format, extents, Linked-List Allocation

"Unlike contiguous allocation, every disk block can be used in this method." 

Linked-List Allocation Using a Table in Memory, FAT, File Allocation Table

"The primary disadvantage of this method is that the entire table must be in memory all the time to make it work."

"Thus the table will take up 3 GB or 2.4 GB of main memory all the time, depending on whether the system is optimized for space or time."

I-nodes, i-node, index-node

##### 4.3.3 Implementing Directories

"In all cases,the main function of the directory system is to map the ASCII name of the file onto the information needed to locate the data."

"In all of the designs so far, directories are searched linearly from beginning to end when a file name has to be looked up."

"One way to speed up the search is to use a hash table in each directory."

"Using a hash table has the advantage of much faster lookup, but the disadvantage of more complex administration."

"It is only really a serious candidate in systems where it is expected that directories will routinely contain hundreds or thousands of files."

##### 4.3.4 Shared Files

link, Directed Acyclic Graph, DAG, symbolic linking

"If C subsequently tries to remove the file, the system is faced with a problem."

"If it removes the file and clears the i-node, B will have a directory entry pointing to an invalid i-node."

"With symbolic links this problem does not arise because only the true owner has a pointer to the i-node."

"The problem with symbolic links is the extra overhead required."

##### 4.3.5 Log-Structured File Systems

Log-structured File System, cleaner

##### 4.3.6 Journaling File Systems

"The basic idea here is to keep a log of what the file system is going to do before it does it, so that if the system crashes before it can do its planned work, upon rebooting the system can look in the log to see what was going on at the time of the crash and finish the job."

journaling file systems

"Only after the log entry has been written, do the various operations begin."

idempotent

"Journaling file systems have to arrange their data structures and loggable operations so they all are idempotent."

atomic transaction

##### 4.3.7 Virtual File Systems

VFS, virtual file system, VFS interface, NFS, Network File System

"Internally, most VFS implementations are essentially object oriented, even if they are written in C rather than C++."

"In this manner, it becomes relatively straightforward to add new file systems."

"To make one, the designers first get a list of function calls the VFS expects and then write their file system to provide all of them."

#### 4.4 FILE-SYSTEM MANAGEMENT AND OPTIMIZATION

##### 4.4.1 Disk-Space Management

"Two general strategies are possible for storing an n byte file: n consecutive bytes of disk space are allocated, or the file is split up into a number of (not necessarily) contiguous blocks."

Block Size, Keeping Track of Free Blocks, Disk Quotas

##### 4.4.2 File-System Backups

recycle bin, incremental dumps, physical dump, logical dump

##### 4.4.3 File-System Consistency

missing block

##### 4.4.4 File-System Performance

Caching, block cache, buffer cache, write-through caches, Block Read Ahead, Reducing Disk-Arm Motion, solid-state disks, SSD

##### 4.4.5 Defragmenting Disks

#### 4.5 EXAMPLE FILE SYSTEMS

##### 4.5.1 The MS-DOS File System

cluster sizes

##### 4.5.2 The UNIX V7 File System

single indirect block, double indirect block, triple indirect block

##### 4.5.3 CD-ROM File Systems

The ISO 9660 File System, ISO 9660

primary volume descriptor, Rock Ridge Extensions, Rock Ridge, Joliet Extensions, Joliet

#### 4.6 RESEARCH ON FILE SYSTEMS

"File systems have always attracted more research than other parts of the operating system and that is still the case."

#### 4.7 SUMMARY

"The file system designers have to be concerned with how storage is allocated, and how the system keeps track of which block goes with which file."

"Possibilities include contiguous files, linked lists, file-allocation tables, and i-nodes."

"File-system performance is important and can be enhanced in several ways, including caching, read ahead, and carefully placing the blocks of a file close to each other."

### 5 INPUT/OUTPUT

#### 5.1 PRINCIPLES OF I/O HARDWARE

"Programmers look at the interface presented to the software - the commands the hardware accepts, the functions it carries out, and the errors that can be reported back."

##### 5.1.1 I/O Devices

block devices, character devices

"A character device delivers or accepts a stream of characters, without regard to any block structure."

##### 5.1.2 Device Controllers

device controller, adapter, preamble, ECC, Error-Correcting Code, CRT, Cathode Ray Tube

##### 5.1.3 Memory-Mapped I/O

I/O port, I/O port space, memory-mapped I/O

##### 5.1.4 Direct Memory Access

DMA, Direct Memory Access, cycle stealing, burst mode, fly-by mode

##### 5.1.5 Interrupts Revisited

interrupt vector, Precise and Imprecise Interrupts, precise interrupt, imprecise interrupt

#### 5.2 PRINCIPLES OF I/O SOFTWARE

##### 5.2.1 Goals of the I/O Software

device independence, uniform naming, mounted, error handling, synchronous, asynchronous, buffering

##### 5.2.2 Programmed I/O

programmed I/O, polling, busy waiting

##### 5.2.3 Interrupt-Driven I/O

##### 5.2.4 I/O Using DMA

"An obvious disadvantage of interrupt-driven I/O is that an interrupt occurs on every character."

#### 5.3 I/O SOFTWARE LAYERS

##### 5.3.1 Interrupt Handlers

##### 5.3.2 Device Drivers

device driver, block devices, character devices, reentrant

##### 5.3.3 Device-Independent I/O Software

Uniform Interfacing for Device Drivers, major device number, minor device number, Buffering, double buffering, circular buffer, Error Reporting, Allocating and Releasing Dedicated Devices, Device-Independent Block Size

##### 5.3.4 User-Space I/O Software

Spooling, daemon, spooling directory

#### 5.4 DISKS

##### 5.4.1 Disk Hardware

Magnetic Disks, IDE, Integrated Drive Electronics, SATA, Serial ATA, overlapped seeks, logical block addressing, RAID, RAID, Redundant Array of Inexpensive Disks, SLED, Single Large Expensive Disk, striping

##### 5.4.2 Disk Formatting

low-level format, cylinder skew, head skew, single interleaving, double interleaving, MBR, Master Boot Record, GPT, GUID Partition Table, high-level format

##### 5.4.3 Disk Arm Scheduling Algorithms

FCFS, First-Come, First-Served, SSF, Shortest Seek First

##### 5.4.4 Error Handling

AV disks, Audio Visual disks

##### 5.4.5 Stable Storage

stable storage, Stable writes, Stable reads, Crash recovery, nonvolatile RAM

#### 5.5 CLOCKS

Clocks, timers

##### 5.5.1 Clock Hardware

one-shot mode, square-wave mode, clock ticks, UTC, Universal Coordinated Time

##### 5.5.2 Clock Software

real time, watch-dog timers

##### 5.5.3 Soft Timers

Soft timers

#### 5.6 USER INTERFACES: KEYBOARD, MOUSE, MONITOR

terminals

##### 5.6.1 Input Software

Keyboard Software, scan code, raw mode, cooked mode, canonical mode, Noncanonical mode, echoing, escape character, Mouse Software, mickey, Bluetooth

##### 5.6.2 Output Software

Text Windows, escape sequences, termcap, The X Window System, X Window System, X, X server, X clients, Xlib, Intrinsics, widgets, Motif, window manager, resource, Graphical User Interfaces, GUI, Graphical User Interface, graphics adapter, video RAM, window, methods, Hungarian notation, WndProc, GDI, Graphics Device Interface, device context, Bitmaps, metafile, bitmap, DIB, Device Independent Bitmap, Fonts, Touch Screens, Resistive screens, ITO, Indium Tin Oxide, Capacitive Screens, multitouch, ghosting

#### 5.7 THIN CLIENTS

thin clients, Chromebook, ChromeOS, Web Apps

#### 5.8 POWER MANAGEMENT

##### 5.8.1 Hardware Issues

##### 5.8.2 Operating System Issues

The Display, The Hard Disk, The CPU, The Memory, Wireless Communication, Thermal Management, Battery Management, Driver Interface, ACPI, Advanced Configuration and Power Interface

##### 5.8.3 Application Program Issues

#### 5.9 RESEARCH ON INPUT/OUTPUT

#### 5.10 SUMMARY

"A substantial fraction of any operating system is concerned with I/O."

"I/O can be structured in four levels: the interrupt-service procedures, the device drivers, the device-independent I/O software, and the I/O libraries and spoolers that run in user space."

### 6 DEADLOCKS

deadlock

"If process A locks record R1 and process B locks record R2, and then each process tries to lock the other one's record, we also have a deadlock."

#### 6.1 RESOURCES

resources

##### 6.1.1 Preemptable and Nonpreemptable Resources

preemptable resource, nonpreemptable resource

##### 6.1.2 Resource Acquisition

#### 6.2 INTRODUCTION TO DEADLOCKS

"A set of processes is deadlocked if each process in the set is waiting for an event that only another process in the set can cause."

resource deadlock

##### 6.2.1 Conditions for Resource Deadlocks

##### 6.2.2 Deadlock Modeling

#### 6.3 THE OSTRICH ALGORITHM

#### 6.4 DEADLOCK DETECTION AND RECOVERY

##### 6.4.1 Deadlock Detection with One Resource of Each Type

##### 6.4.2 Deadlock Detection with Multiple Resources of Each Type

existing resource vector, available resource vector, current allocation matrix, request matrix

##### 6.4.3 Recovery from Deadlock

Recovery through Preemption, Recovery through Rollback, checkpointed, Recovery through Killing Processes

#### 6.5 DEADLOCK AVOIDANCE

##### 6.5.1 Resource Trajectories

##### 6.5.2 Safe and Unsafe States

safe

##### 6.5.3 The Banker's Algorithm for a Single Resource

banker's algorithm

##### 6.5.4 The Banker's Algorithm for Multiple Resources

"Unfortunately, few authors have had the audacity to point out that although in theory the algorithm is wonderful, in practice it is essentially useless because processes rarely know in advance what their maximum resource needs will be."

#### 6.6 DEADLOCK PREVENTION

##### 6.6.1 Attacking the Mutual-Exclusion Condition

##### 6.6.2 Attacking the Hold-and-Wait Condition

##### 6.6.3 Attacking the No-Preemption Condition

##### 6.6.4 Attacking the Circular Wait Condition

#### 6.7 OTHER ISSUES

##### 6.7.1 Two-Phase Locking

two-phase locking

##### 6.7.2 Communication Deadlocks

competition synchronization, communication deadlock, protocol, host, router

##### 6.7.3 Livelock

"However, if the other process does the same thing at exactly the same time, they will be in the situation of two people trying to pass each other on the street when both of them politely step aside, and yet no progress is possible, because they keep stepping the same way at the same time."

livelock

##### 6.7.4 Starvation

starvation

#### 6.8 RESEARCH ON DEADLOCKS

#### 6.9 SUMMARY

"Deadlock is a potential problem in any operating system."

"It occurs when all the members of a set of processes are blocked waiting for an event that only other members of the same set can cause."

"This situation causes all the processes to wait forever."

"Resource deadlock can be avoided by keeping track of which states are safe and which are unsafe."

"Resource deadlock can be structurally prevented by building the system in such a way that it can never occur by design."

"Livelock is similar to deadlock in that it can stop all forward progress, but it is technically different since it involves processes that are not actually blocked."

### 7 VIRTUALIZATION AND THE CLOUD

sandboxing, VMM, Virtual Machine Monitor, hypervisor, virtualization, cloud

#### 7.1 HISTORY

SIMMON, CP-40, CP/CMS, VM/370, Disco, VMware, Xen, KVM, VirtualBox, Hyper-V, Parallels

#### 7.2 REQUIREMENTS FOR VIRTUALIZATION

Safety, Fidelity, Efficiency, interpreter, sensitive instructions, privileged instructions, VT, Virtualization Technology, SVM, Secure Virtual Machine

"The basic idea is to create containers in which virtual machines can be run."

trap-and-emulate, binary translation, paravirtualization, full virtualization, hypercalls, process-level virtualization

#### 7.3 TYPE 1 AND TYPE 2 HYPERVISOR

type 1 hypervisor, virtual machines, type 2 hypervisor, guest operating system, host operating system, VMware Workstation, hosted hypervisors, virtual disk

#### 7.4 TECHNIQUES FOR EFFICIENT VIRTUALIZATION

virtual kernel mode

##### 7.4.1 Virtualizing the Unvirtualizable

binary translation, protection rings, basic block, world switch

##### 7.4.2 The Cost of Virtualization

IF, Interrupt Flag

#### 7.5 ARE HYPERVISORS MICROKERNELS DONE RIGHT?

paravirtualization, hypercalls, API, Application Programming Interface, VMI, Virtual Machine Interface, paravirt ops

#### 7.6 MEMORY VIRTUALIZATION

"Virtualization greatly complicates memory management."

shadow page table, guest-induced page faults, hypervisor-induced page faults, VM exit, Hardware Support for Nested Page Tables, nested page tables, EPT, Extended Page Tables, guest virtual addresses, guest physical addresses, host physical addresses, machine physical addresses, Reclaiming Memory, overcommitment, deduplication, ballooning

#### 7.7 I/O VIRTUALIZATION

I/O MMUs, I/O MMU, Device pass through, Device isolation, interrupt remapping, Device Domains, domain 0, Single Root I/O Virtualization, Single root I/O virtualization, SR-IOV, PF, Physical Functions, Virtual Functions

#### 7.8 VIRTUAL APPLIANCES

virtual appliances

"As an example, Amazon's EC2 cloud has many pre-packaged virtual appliances available for its clients, which it offers as convenient software services (“Software as a Service”)."

#### 7.9 VIRTUAL MACHINES ON MULTICORE CPUS

Deduplication, transparent page sharing, content-based page sharing, copy on write

"The combination of multicore, virtual machines, hypervisor, and microkernels is going to radically change the way people think about computer systems."

#### 7.10 LICENSING ISSUES

#### 7.11 CLOUDS

On-demand self-service, Broad network access, Resource pooling, Rapid elasticity, Measured service

##### 7.11.1 Clouds as a Service

IAAS, Infrastructure As A Service, PAAS, Platform As A Service, SAAS, Software As A Service

"One example of an IAAS cloud is Amazon EC2, which happens to be based on the Xen hypervisor and counts multiple hundreds of thousands of physical machines."

vendor lock-in

##### 7.11.2 Virtual Machine Migration

live migration, pre-copy memory migration, seamless live migration

##### 7.11.3 Checkpointing

copy on write

#### 7.12 CASE STUDY: VMWARE

##### 7.12.1 The Early History of VMware

below, VMware Workstation for Linux, VMware Workstation for Windows, VMotion

##### 7.12.2 VMware Workstation

ACM Software System Award, WinTel, vertically integrated

##### 7.12.3 Challenges in Bringing Virtualization to the x86

adding a level of indirection, virtual machines, Compatibility, Performance, Isolation, The x86 architecture was not virtualizable, The x86 architecture was of daunting complexity, x86 machines had diverse peripherals, Need for a simple user experience

##### 7.12.4 VMware Workstation: Solution Overview

Virtualizing the x86 Architecture, dynamic binary translation, software fault isolation, A Guest Operating System Centric Strategy, The Virtual Hardware Platform, not, hardware-independent encapsulation, The Role of the Host Operating System, VMX, VMX driver, world switch

##### 7.12.5 The Evolution of VMware Workstation

##### 7.12.6 ESX Server: VMware's type 1 Hypervisor

#### 7.13 RESEARCH ON VIRTUALIZATION AND THE CLOUD

### 8 MULTIPLE PROCESSOR SYSTEMS

loosely coupled, tightly coupled

#### 8.1 MULTIPROCESSORS

shared-memory multiprocessor

##### 8.1.1 Multiprocessor Hardware

UMA, Uniform Memory Access, NUMA, Nonuniform Memory Access, UMA Multiprocessors with Bus-Based Architectures, cache line, cache-coherence protocol, UMA Multiprocessors Using Crossbar Switches, crossbar switch, crosspoint, nonblocking network, UMA Multiprocessors Using Multistage Switching Networks, multistage switching networks, omega network, perfect shuffle, blocking network, interleaved, NUMA Multiprocessors, NC-NUMA, Non Cache-coherent NUMA, CC-NUMA, Cache-Coherent NUMA, directory-based multiprocessor, Multicore Chips, Moore's Law, cores, die, snooping, CMPs, Chip MultiProcessors, System On a Chip, SoC, Manycore Chips, Manycore chips

"While there is no hard threshold beyond which a multicore becomes a manycore, an easy distinction is that you probably have a manycore if you no longer care about losing one or two cores."

coherency wall, GPU

"Compared to general-purpose processors, GPUs spend more of their transistor budget on the circuits that perform calculations and less on caches and control logic."

GPGPU, OpenGL, CUDA

"An important different between programming GPUs and programming general-purpose processors is that GPUs are essentially “single instruction multiple data” machines, which means that a large number of cores execute exactly the same instruction but on different pieces of data."

Heterogenous Multicores, heterogenous multicore, Programming with Multiple Cores

##### 8.1.2 Multiprocessor Operating System Types

Each CPU Has Its Own Operating System

"This scheme is still better than having n separate computers since it allows all the machines to share a set of disks and other I/O devices, and it also allows the memory to be shared flexibly."

Master-Slave Multiprocessors, master-slave, Symmetric Multiprocessors, SMP, Symmetric MultiProcessor, big kernel lock

##### 8.1.3 Multiprocessor Synchronization

spin lock, Spinning vs. Switching, MONITOR/MWAIT

##### 8.1.4 Multiprocessor Scheduling

Time Sharing, smart scheduling, affinity scheduling, two-level scheduling algorithm, Space Sharing, space sharing, Gang Scheduling, gang scheduling, coscheduling

#### 8.2 MULTICOMPUTERS

multicomputers, cluster computers, COWS, Clusters Of Workstations

"Cloud computing services are always built on multicomputers because they need to be large."

##### 8.2.1 Multicomputer Hardware

headless workstation, Interconnection Technology, grid, mesh, diameter, double torus, cube, hypercube

"Many parallel computers use a hypercube topology because the diameter grows linearly with the dimensionality."

packet, store-and-forward packet switching, circuit switching, wormhole routing, Network Interfaces, network processors

##### 8.2.2 Low-Level Communication Software

multiqueue, affinity, Node-to-Network Interface Communication, Remote Direct Memory Access, RDMA, Remote Direct Memory Access

##### 8.2.3 User-Level Communication Software

Send and Receive, Blocking versus Nonblocking Calls, blocking calls, synchronous calls, nonblocking calls, asynchronous calls, pop-up thread, active messages

##### 8.2.4 Remote Procedure Call

RPC, Remote Procedure Call, client stub, server stub, marshalling, Implementation Issues

##### 8.2.5 Distributed Shared Memory

DSM, Distributed Shared Memory, Replication, False Sharing, false sharing, Achieving Sequential Consistency

##### 8.2.6 Multicomputer Scheduling

##### 8.2.7 Load Balancing

processor allocation algorithms, A Graph-Theoretic Deterministic Algorithm, A Sender-Initiated Distributed Heuristic Algorithm, A Receiver-Initiated Distributed Heuristic Algorithm

#### 8.3 DISTRIBUTED SYSTEMS

distributed system, middleware

##### 8.3.1 Network Hardware

LANs, Local Area Networks, WANs, Wide Area Networks, Ethernet, Ethernet, vampire tap, binary exponential backoff, bridges, The Internet, Hosts, Routers

##### 8.3.2 Network Services and Protocols

Network Services, Connection-oriented service, connectionless service, quality of service, acknowledgement packet, datagram service, acknowledged datagram service, request-reply service, Network Protocols, protocol, protocol stack, IP, Internet Protocol, IP addresses, TCP, Transmission Control Protocol

"To use TCP, a process first establishes a connection to a remote process."

"The process required is specified by the IP address of a machine and a port number on that machine, to which processes interested in receiving incoming connections listen."

"Once that has been done, it just pumps bytes into the connection and they are guaranteed to come out the other end undamaged and in the correct order."

"The TCP implementation achieves this guarantee by using sequence numbers, checksums, and retransmissions of incorrectly received packets."

"All of this is transparent to the sending and receiving processes."

"They just see reliable interprocess communication, just like a UNIX pipe."

DNS, Domain Name System

##### 8.3.3 Document-Based Middleware

Web pages, hyperlinks, Web browser, URL, Uniform Resource Locator

##### 8.3.4 File-System-Based Middleware

Transfer Model, upload/download model, remote-access model, The Directory Hierarchy, Naming Transparency, location transparency, location independence, Semantics of File Sharing, sequential consistency, session semantics

##### 8.3.5 Object-Based Middleware

object, methods, CORBA, Common Object Request Broker Architecture, ORBs, Object Request Brokers, IDL, Interface Definition Language, skeleton, IIOP, Internet InterOrb Protocol, object adapter

##### 8.3.6 Coordination-Based Middleware

coordination-based middleware, Linda, tuple space, tuple, template, Publish/Subscribe, publish/subscribe

"When an information producer has a new piece of information (e.g., a new stock price), it broadcasts the information as a tuple on the network."

publishing, subscribe

"Subscription is done by telling a tuple daemon process on the same machine that monitors published tuples what subjects to look for."

#### 8.4 RESEARCH ON MULTIPLE PROCESSOR SYSTEMS

"Much systems research in recent years has also gone into making large applications scale to multicore and multiprocessor environments."

#### 8.5 SUMMARY

"Computer systems can be made faster and more reliable by using multiple CPUs."

"Four organizations for multi-CPU systems are multiprocessors, multicomputers, virtual machines, and distributed systems."

"A multiprocessor consists of two or more CPUs that share a common RAM."

"Multicomputers also have two or more CPUs, but these CPUs each have their own private memory."

"Distributed systems are loosely coupled systems each of whose nodes is a complete computer with a complete set of peripherals and its own operating system."

### 9 SECURITY

